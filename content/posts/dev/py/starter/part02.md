---
title: "Python起步 02"
date: 2022-06-15T00:58:24+08:00
tags: ["python"]
summary: python快速起步
---


## Part 2 函数与表达

**函数**思维是将数据间的某种**关系**表达出来，其实也是一种映射，相比于[字典](#122-字典)，函数的映射关系表达的是**过程**，
而字典可以看成函数的**输入**与**输出**的结果映射关系。

关键字 `def` 用于定义一个函数，如下：

### 2.1 定义函数

我们尝试定义一个求解一元二次方程实根的函数，已知，一元二次方程的根公式如下

{{< katex display >}}
x = {{-b \pm \sqrt {b^2 - 4ac}} \over 2a}
{{< /katex >}}

如公式所见，变量一共有三个，分别是 `a, b, c` 所以，这个函数会有三个参数，如下函数声明

```py
def f(a, b, c):
    delta = b**2 - 4 * a * c # 判别式
    sqrt_delta = delta ** 0.5 # 判别式的平方根
    return (-b + sqrt_delta) / 2*a, (-b - sqrt_delta) / 2*a # 以元组形式返回两个根

# 调用函数，传递参数
x = f(1, 2, -1)
```

上述函数定义了一个求解一元二次方程的函数，如下逐行解释：

1. 使用关键字`def`定义一个名为`f`的函数，参数有三个，分别是 `a, b, c` 作为变量传递到函数内部
2. 定义判别式`delta`，运算符`**`表示**幂运算**，运算符`*`表示**乘运算**，这一行就是公式{{< katex >}}\Delta = b^2 - 4ac{{< /katex >}}的表达式了，变量`delta`就表示判别式的值，
3. 定义变量`sqrt_delta`表示判别式的平方根，利用指数为`1 / 2`的幂运算表示
4. 以元组形式返回两个实根，`return`关键词仅在函数内部出现，用于给**调用函数**的表达式**赋值**，所用的值，在函数内叫**返回值**

{{< hint warning >}}
**注意**  
这里并没有写完，因为还没有根据判别式区分有没有实根的情况，此函数将在下文完善
{{< /hint >}}

### 2.2 代码块

- 代码块是一个程序的重要组成部分，很多语言都有代码块的概念，如上述函数`f(a, b, c)`就是一个代码块。
- Python 的代码块比较**特殊**，需要通过**缩进**的空格数量来区分，每`4`个空格为一个单位，用于区分代码块的级别。
- 通过一个单位的缩进代表这部分代码归函数`f(a, b, c)`所有，若后续代码不属于上一个块，需要把行前缩进调整到适当的位置，如后续函数调用`f(1, 2, -1)`

```py
# 定义函数f
def f(a, b, c):
····delta = b ** 2 - 4 * a * c # 判别式
····sqrt_delta = delta ** 0.5 # 判别式的平方根
····return (-b + sqrt_delta) / 2 * a, (-b - sqrt_delta) / 2 * a # 以元组形式返回两个根

# 调用函数，传递参数
f(1, 2, -1)
# 输出： (0.41421356237309515, -2.414213562373095)
```

{{< hint info >}}
**Tip**  
在大部分编辑器内，制表键`Tab`控制行向右一个单位的缩进，`Shift + Tab`控制行向左一个单位的缩进
{{< /hint >}}

### 2.3 注释

注释作为一个程序里可有可无的部分，真是让人又爱又恨。养成一个书写注释的习惯，可以方便与他人交流，或者是方便自己与未来的自己交流。
根据我的个人经验，未来的自己往往是不能一下子读懂现在的自己写的代码，所以千万记得写注释。注释有以下几种，使用哪种据情况而定。

{{< hint warning >}}
**Tips**  
在 Python 文件中写中文，需要在文件的首行增加一个特殊的注释`# -*- coding:utf8 -*-`，来告诉编译器，此文件的编码。
{{< /hint >}}

#### 2.3.1 单行注释

最常用，写在行末表明此行用意，写在变量上一行，标明变量用途，等等。以符号`#`开头，后面同行写的任何东西都不参与程序的执行。
这个单行注释，在前面的篇幅已经用过很多次了。

```py
# 调用函数，传递参数
f(1, 2, -1)

# 字典可定义一组有映射关系的数据
building = {
    'name': 'xx大楼',
    'type': '公建',
    'height': 99
}
```

#### 2.3.2 多行注释

多行注释一般用在文件开头，或者函数开头，用来表明文件或函数的用途。使用三个单引号，或者三个双引号包裹范围内的内容都是注释，可跨行。

```py
'''
这是一个简单的py程序
写着1+1等于几
'''

"""
就是想在这里写点儿字
还是跨行的
随便写
"""

def func():
    return 1 + 1
```

{{< details "扩展内容" >}}

#### 文档注释

文档注释和多行注释差不多一样，都是三个单引号，或者三个双引号，
开头的单引号加一个感叹号（可能只是[Doxygen](https://www.doxygen.nl/)的要求），
写的位置也不一样不一样。
比如说：

1. 写在文件开头，表明此文件属于哪个功能包，作者，创建时间等等。
2. 写在函数开头表明这个函数是什么功能，传递什么参数，返回什么样的值

文档注释，主要用于生成代码文档，方便阅读，生成文档的工具有很多种，在此就不赘述了。

```py
'''!
@package engine
@brief 一个非常厉害的算法
@file algo.py
@author KaivnD
@date 2022-06-15
'''

def f(a, b, c):
    """! 求解一元二次方程的实数根
    @param a   二次未知数的常数部分
    @param b   一次未知数的常数部分
    @param c   常数部分

    @return  根1,根2
    """
····delta = b ** 2 - 4 * a * c # 判别式
····sqrt_delta = delta ** 0.5 # 判别式的平方根
····return (-b + sqrt_delta) / 2 * a, (-b - sqrt_delta) / 2 * a # 以元组形式返回两个根
```

{{< /details >}}
